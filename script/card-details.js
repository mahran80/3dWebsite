// card-details.js - Complete Project Details System


const projectsData = {
  'project-1': {
    id: 'project-1',
    category: 'Residential Complex',
    title: 'Building & Infrastructure Twins',
    image: 'res/service1.png',
    overview: `Project Description
Our comprehensive smart building optimization project transformed a global office complex into an energy-efficient, intelligent workspace. By implementing our advanced digital twin platform, we created a virtual replica of the entire building infrastructure, enabling real-time monitoring and optimization of HVAC systems, lighting, and energy consumption patterns. The project resulted in a remarkable 28% reduction in energy consumption while maintaining optimal comfort levels for occupants.

Project Overview
Our digital twin projects cover a full lifecycle approach:

Buildings: Residential, commercial, or public buildings can be digitally mirrored for operational efficiency.

Infrastructure: Bridges, roads, and utilities are modeled to monitor performance, resilience, and future upgrades.

Urban context: Every project is connected to its geospatial environment, enabling better city-scale planning.`,
    challenge: `The Challenges
•
Managing complex buildings and infrastructure comes with big challenges:
•
Fragmented data scattered across drawings, BIM models, and monitoring systems.
•
Limited visibility into performance, energy consumption, and maintenance needs.
•
Difficulty simulating future scenarios such as expansions, traffic changes, or energy upgrades.
•
Slow decision-making due to reliance on static reports instead of live, interactive insights.`,
    solution: `Our Solutions
•
We develop Building & Infrastructure Digital Twins that merge design data, real-time sensor inputs, and geospatial context into one interactive 3D environment.
•
Structured, georeferenced 3D models ready for digital twin platforms.
•
IoT & sensor integration for monitoring energy, occupancy, and safety in real time.
•
Simulation & scenario testing to predict impacts of design or operational changes.
•
User-friendly dashboards & 3D navigation for facility managers, planners, and stakeholders.`,
    results: `Resolution & Impact
By turning static assets into living, digital replicas, we help clients achieve:

Smarter operations → Lower energy costs, predictive maintenance, and optimized resource use.

Informed decision-making → Clear visualization and reliable data drive better investments.

Sustainability goals → Track and reduce carbon footprint effectively.

Public engagement → Citizens and stakeholders understand projects through clear 3D communication.

Outcome: 28% reduction in energy consumption and improved operational efficiency.`,
    client: 'Private Developer',
    industry: 'Real Estate',
    duration: '8 months',
    year: '2024',
    technologies: ['IoT Integration', 'BIM', 'Machine Learning', 'Real-time Analytics', 'Cloud Computing'],
    services: [
      '3D Modeling & Visualization',
      'IoT Sensor Integration',
      'Predictive Analytics',
      'Energy Management System',
      'Maintenance Dashboard',
      'Mobile App Development'
    ],
    gallery: [
      'res/work1.png',
      'res/work11.png',
      'res/work12.png',
      'res/work43.png'
    ]
  },
  
  'project-2': {
    id: 'project-2',
    category: 'Villa',
    title: 'Hyper-Realistic Visuals',
    image: 'res/service2.png',
    overview: `Project Description
We partnered with a leading automotive manufacturer to create a comprehensive digital twin of their assembly line operations. This project involved mapping every aspect of the production process, from individual machine performance to overall workflow optimization. The digital twin enabled predictive maintenance, real-time process monitoring, and data-driven decision making.

Project Overview
Our visuals are tailored to different project types:

Interior spaces with styled furniture, textures, and lighting mood boards.

Exterior architecture including realistic landscapes, urban surroundings, and climate effects.

Marketing-ready packages for brochures, presentations, and online campaigns.

Custom interactive experiences that add engagement to exhibitions or client pitches.`,
    challenge: `The Challenges
•
Architectural ideas often fail to impress when shown as plain drawings or technical models.
•
Investors and clients struggle to imagine the final look and feel of a project.
•
Marketing materials can feel flat without high-quality visuals to inspire confidence.
•
Adjusting designs late in the process becomes costly and time-consuming.`,
    solution: `Our Solutions
•
We create hyper-realistic 3D visuals that bridge imagination and reality:
•
Photorealistic still renders that capture every material, shadow, and reflection.
•
Cinematic animations that showcase projects with storytelling and atmosphere.
•
Interactive scenes where clients can explore spaces, change options, or view from different perspectives.
•
Fast iteration cycles to test materials, lighting, and layouts before construction begins.`,
    results: `Resolution & Impact
By turning ideas into immersive visual experiences, we deliver:

Stronger marketing tools → Designs that sell themselves before construction.

Better decision-making → Stakeholders can see and feel the project, not just imagine it.

Cost savings → Detect design conflicts and material mismatches early.

Memorable presentations → Images and animations that stand out and win projects.`,
    client: 'Luxury Real Estate Developer',
    industry: 'Residential',
    duration: '5 months',
    year: '2024',
    technologies: ['Unreal Engine', 'Ray Tracing', 'VR/AR', '3D Scanning', 'Real-time Rendering'],
    services: [
      'Photorealistic 3D Rendering',
      'Interactive Walkthroughs',
      'Virtual Reality Experience',
      'Material Customization',
      'Lighting Simulation',
      'Animation & Videos'
    ],
    gallery: [
      'res/work2.png',
      'res/work21.png',
      'res/work22.png',
      'res/work23.png'
    ]
  },
  
  'project-3': {
    id: 'project-3',
    category: 'North European Metropolitan Authority',
    title: 'Urban Planning Digital Twin',
    image: 'res/service3.png',
    overview: `Project Description
This innovative urban planning project transformed traditional city visualization into an immersive, game-style navigation experience. Working with the Metropolitan Transportation Authority, we created a comprehensive digital twin of urban infrastructure that allows stakeholders to explore and analyze transportation networks through an interactive 3D environment built in Unreal Engine.

Project Overview
Our approach covers:

Urban planning twins → Modeling districts, neighborhoods, and transport systems.

Environmental twins → Simulating ecosystems, water flows, and renewable energy potential.

Regional scale integration → Linking cities with surrounding landscapes for holistic impact analysis.

Public participation tools → Interactive 3D maps and VR demos for better community engagement.`,
    challenge: `The Challenges
•
Cities and regions face growing pressure from climate change, rapid urbanization, and resource management.
•
Traditional maps and reports lack the ability to fully capture dynamic environmental processes like air quality, flooding, or traffic emissions.
•
Decision-making often happens in silos, with fragmented data spread across agencies and stakeholders.
•
Engaging citizens and policymakers is difficult when complex data isn’t visualized clearly.`,
    solution: `Our Solutions
•
We build Urban & Environment Digital Twins that connect geospatial data, 3D city models, and live environmental inputs into one interactive platform.
•
City-scale 3D twins that integrate buildings, infrastructure, and natural landscapes.
•
Environmental simulations (air quality, noise, flooding, energy use, mobility).
•
Scenario testing for climate adaptation, zoning, and sustainable growth strategies.
•
Citizen-facing dashboards that make data transparent, interactive, and easy to understand.`,
    results: `Resolution & Impact
Urban & Environment Twins enable cities and organizations to:

Plan sustainably → Reduce emissions, optimize mobility, and protect green areas.

Mitigate risks → Anticipate flooding, heatwaves, or pollution hotspots before they happen.

Collaborate better → Unite planners, engineers, and citizens around a shared digital environment.

Build trust → Transparent and visual communication strengthens public acceptance of projects.`,
    client: 'Metropolitan Planning Authority',
    industry: 'Urban Development',
    duration: '12 months',
    year: '2023-2024',
    technologies: ['Unreal Engine', 'GIS Integration', 'Traffic Simulation', 'Environmental Modeling', 'Big Data Analytics'],
    services: [
      'Urban 3D Modeling',
      'Traffic Flow Simulation',
      'Environmental Impact Analysis',
      'Public Engagement Tools',
      'Scenario Planning',
      'Data Visualization'
    ],
    gallery: [
      'res/work3.png',
      'res/work51.png',
      'res/work32.png',
      'res/work5.png'
    ]
  },
  
  'project-4': {
    id: 'project-4',
    category: 'University Parking, Government Building',
    title: 'AI-Enhanced Analytics',
    image: 'res/service4.png',
    overview: `Project Description
This innovative urban planning project transformed traditional city visualization into an immersive, game-style navigation experience. Working with the Metropolitan Transportation Authority, we created a comprehensive digital twin of urban infrastructure that allows stakeholders to explore and analyze transportation networks through an interactive 3D environment built in Unreal Engine.

Project Overview
Our AI-enhanced analytics can be applied across scales:

Smart Buildings → Optimize HVAC, lighting, occupancy flows, and predictive maintenance.

Smart Cities → Enhance traffic management, public safety, energy distribution, and sustainability tracking.

Integrated Digital Twins → Combine real-time sensor data with AI simulations for what-if scenario testing.`,
    challenge: `The Challenges
•
Cities and building operators generate huge volumes of data from sensors, IoT devices, and management systems.
•
Without AI, much of this data stays underutilized, offering little insight for real-time decisions.
•
Complex systems (traffic, energy, utilities, building operations) are difficult to predict and optimize manually.
•
Stakeholders need clear insights instead of raw data streams.`,
    solution: `Our Solutions
•
We integrate AI-driven analytics directly into Digital Twin platforms, turning data into actionable intelligence:
•
Predictive analytics → Anticipate maintenance needs, energy peaks, or traffic bottlenecks before they occur.
•
Anomaly detection → Identify unusual patterns in energy use, safety systems, or environmental conditions.
•
Optimization algorithms → Suggest efficient layouts, zoning changes, or building operations strategies.
•
AI-powered dashboards → Simplify complex data into clear KPIs and visual reports for decision-makers.`,
    results: `Resolution & Impact
By embedding AI into Digital Twins, we deliver:

• Smarter decisions → Real-time data translated into reliable forecasts and recommendations.

• Operational savings → Lower maintenance costs, reduced downtime, and optimized resource use.

• Sustainability gains → Better energy efficiency and measurable carbon footprint reductions.

• Future readiness → Systems that continuously learn and improve as more data flows in.`,
    client: 'State University & Government',
    industry: 'Smart Infrastructure',
    duration: '10 months',
    year: '2024',
    technologies: ['AI/ML', 'Solar Energy Management', 'EV Charging Systems', 'IoT Sensors', 'Predictive Analytics'],
    services: [
      'Automated Parking System',
      'Solar Panel Optimization',
      'EV Charging Management',
      'Energy Cost Analysis',
      'User Mobile App',
      'Digital Twin Platform'
    ],
    gallery: [
      'res/work4.png',
      'res/work41.png',
      'res/work42.png',
      'res/work43.png'
    ]
  }
};

// Get project ID from URL parameters
function getProjectId() {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get('id') || 'project-1';
}

// Load project details
function loadProjectDetails() {
  const projectId = getProjectId();
  const project = projectsData[projectId];
  
  if (!project) {
    window.location.href = 'index.html';
    return;
  }
  
  // Update page title
  document.title = `${project.title} - ABDELRAHMAN EL KHATIB`;
  
  // Hero section
  document.getElementById('heroImage').src = project.image;
  document.getElementById('detailCategory').textContent = project.category;
  document.getElementById('detailTitle').textContent = project.title;
  
  // Main content
  document.getElementById('detailOverview').textContent = project.overview;
  document.getElementById('detailChallenge').textContent = project.challenge;
  document.getElementById('detailSolution').textContent = project.solution;
  document.getElementById('detailResults').textContent = project.results;
  
  // NOTE: Project Details (client/industry/duration/year) and Technologies were removed from the page,
  // so we no longer set them here to avoid errors.

  // Services
  const servicesContainer = document.getElementById('detailServices');
  servicesContainer.innerHTML = project.services.map(service => 
    `<li>${service}</li>`
  ).join('');
  
  // Gallery
  const galleryContainer = document.getElementById('detailGallery');
  galleryContainer.innerHTML = project.gallery.map(img => 
    `<img src="${img}" alt="${project.title}">`
  ).join('');
  
  // Load related projects
  loadRelatedProjects(projectId);
}

// Load related projects
function loadRelatedProjects(currentProjectId) {
  const relatedContainer = document.getElementById('relatedProjects');
  const allProjects = Object.values(projectsData);
  const relatedProjects = allProjects.filter(p => p.id !== currentProjectId).slice(0, 3);
  
  relatedContainer.innerHTML = relatedProjects.map(project => `
    <a href="card-details.html?id=${project.id}" class="related-card">
      <div class="related-card-image">
        <img src="${project.image}" alt="${project.title}">
      </div>
      <div class="related-card-content">
        <div class="related-card-category">${project.category}</div>
        <h3 class="related-card-title">${project.title}</h3>
      </div>
    </a>
  `).join('');
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', loadProjectDetails);

// Smooth scroll to top
window.scrollTo(0, 0);
